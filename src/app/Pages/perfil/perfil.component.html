<app-header></app-header>
<main id="perfil" class="py-5">
    <div class="container py-2 d-flex justify-content-center align-items-center" style="min-height: 65vh;">
        <div class="row justify-content-center align-items-center" style="width: 100%;">
            <div class="col-lg-3 text-center d-flex flex-column justify-content-center">
                <div class="p-4 text-center">
                    <div class="avatar bg-secondary text-white mx-auto rounded-circle d-flex align-items-center justify-content-center" style="width: 100px; height: 100px; font-size: 40px;">
                        Us
                    </div>
                    <h5 class="mt-3" style="color: black;">{{ data?.nombres }} {{ data?.apellidos }}</h5>
                    <p class="text-muted">{{ fechaCreacionFormateada }}</p>
                    <button class="btn btn-light border mt-3 text-danger"><a (click)="logout()">Cerrar Sesión</a></button>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card p-4 shadow-sm" style="border-radius: 40px;">
                    <div class="card-body">
                        <h3 class="card-title text-center mb-4">Mi perfil</h3>
                        <form [formGroup]="perfilForm">
                            <h5 class="mb-3" style="color: black;">General</h5>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-person" style="color: black;"></i></span>
                                    <input formControlName="estadoCivil" type="text" class="form-control" id="nombre" placeholder="Estado Civil">
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-house" style="color: black;"></i></span>
                                    <input formControlName="direccion" type="text" class="form-control" id="direccion" placeholder="Dirección">
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-telephone" style="color: black;"></i></span>
                                    <input formControlName="numero" type="text" class="form-control" id="telefono" placeholder="Número">
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-calendar" style="color: black;"></i></span>
                                    <input formControlName="fechaNacimiento" type="date" class="form-control" id="fecha-nacimiento">
                                </div>
                            </div>

                            <!-- Sección para cambiar la contraseña -->
                            <h5 class="mb-3" style="color: black;">Actualizar Contraseña</h5>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-lock" style="color: black;"></i></span>
                                    <input formControlName="nuevaContrasena" type="password" class="form-control" id="nuevaContrasena" placeholder="Nueva Contraseña">
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-lock" style="color: black;"></i></span>
                                    <input formControlName="confirmarContrasena" type="password" class="form-control" id="confirmarContrasena" placeholder="Confirmar Nueva Contraseña">
                                </div>
                            </div>

                            <div class="d-flex justify-content-end">
                                <button (click)="actualizar()" type="submit" class="btn btn-primary" style="border-radius: 20px;">
                                    <i class="bi bi-save"></i> Guardar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<app-footer></app-footer>
